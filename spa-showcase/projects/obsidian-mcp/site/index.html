<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lise Interativa: PKM com Claude e Obsidian</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony Neutrals -->
    <!-- Application Structure Plan: A persona-driven, tabbed dashboard layout. This structure was chosen to allow users (students, analysts, hobbists) to directly access relevant case studies without scrolling through unrelated content. The main navigation switches between high-level themes (Overview, Case Studies, Benefits/Challenges, Future), while a sub-navigation within 'Case Studies' filters content by persona. This architecture prioritizes user-led exploration and targeted information retrieval over the linear format of the source report, making the content more digestible and tool-like. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Core concepts of PKM, Claude, Obsidian. -> Goal: Inform. -> Viz/Method: Three-column layout with icons and a central HTML/CSS flow diagram showing the technical synergy. -> Interaction: Static, clear visual representation. -> Justification: Breaks down complex ideas into simple visual blocks. -> Library/Method: HTML/CSS with Tailwind.
        - Report Info: Persona-specific workflows and benefits (Table 1). -> Goal: Compare & Explore. -> Viz/Method: A horizontal bar chart (Chart.js) dynamically updated by persona selection. It visualizes qualitative benefits (e.g., 'Efficiency', 'Innovation') as quantitative scores for comparison. -> Interaction: Persona filter buttons update the chart and related text content. -> Justification: Turns descriptive text into a powerful comparative visualization, making differences between personas instantly clear. -> Library/Method: Chart.js, Vanilla JS.
        - Report Info: Cross-cutting challenges (Table 2). -> Goal: Synthesize. -> Viz/Method: A doughnut chart (Chart.js) showing the proportion of challenges (Technical, Privacy, AI Limitations). -> Interaction: Hovering over chart segments could show more info. -> Justification: Provides a quick, high-level summary of the main pain points. -> Library/Method: Chart.js.
        - Report Info: Textual content (summaries, findings). -> Goal: Detail on demand. -> Viz/Method: Interactive cards and accordions. -> Interaction: Click to expand and reveal detailed information. -> Justification: Keeps the UI clean and prevents information overload, allowing users to drill down as needed. -> Library/Method: Vanilla JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; /* Light neutral background */
            color: #212529;
        }
        .nav-active {
            background-color: #6366f1; /* Indigo accent */
            color: #ffffff;
            font-weight: 600;
        }
        .nav-inactive {
            background-color: #e0e7ff;
            color: #4338ca;
        }
        .persona-btn-active {
            background-color: #10b981; /* Emerald accent */
            color: #ffffff;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .persona-btn-inactive {
            background-color: #ffffff;
            color: #059669;
            border: 1px solid #d1d5db;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">An√°lise Interativa: PKM com Claude e Obsidian</h1>
            <p class="mt-2 text-lg text-gray-600">Explorando a Sinergia entre IA e Gest√£o do Conhecimento Pessoal</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 mb-8">
            <button class="nav-btn px-4 py-2 rounded-full text-sm font-medium transition-colors" data-view="overview">Vis√£o Geral</button>
            <button class="nav-btn px-4 py-2 rounded-full text-sm font-medium transition-colors" data-view="case-studies">Estudos de Caso</button>
            <button class="nav-btn px-4 py-2 rounded-full text-sm font-medium transition-colors" data-view="benefits-challenges">Benef√≠cios e Desafios</button>
            <button class="nav-btn px-4 py-2 rounded-full text-sm font-medium transition-colors" data-view="future">Futuro e Pr√°ticas</button>
        </nav>

        <main id="main-content">
            <!-- Vis√£o Geral Section -->
            <section id="overview" class="content-section">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-700">Compreendendo as Tecnologias Centrais</h2>
                    <p class="mt-2 text-md text-gray-500 max-w-3xl mx-auto">A integra√ß√£o eficaz de Claude e Obsidian baseia-se na compreens√£o das capacidades e filosofias de cada tecnologia. Esta se√ß√£o apresenta os conceitos fundamentais que permitem esta poderosa sinergia para a Gest√£o do Conhecimento Pessoal (PKM).</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 mb-8 text-center">
                    <div class="card p-6">
                        <div class="flex justify-center items-center mb-4 w-12 h-12 bg-indigo-100 rounded-full mx-auto">
                            <span class="text-2xl">üß†</span>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Obsidian</h3>
                        <p class="text-sm text-gray-600">Um cofre de conhecimento flex√≠vel e local-first. Utiliza ficheiros Markdown, garantindo que os seus dados permane√ßam sob o seu controlo, e promove uma rede de ideias atrav√©s de links bidirecionais.</p>
                    </div>
                    <div class="card p-6">
                         <div class="flex justify-center items-center mb-4 w-12 h-12 bg-emerald-100 rounded-full mx-auto">
                            <span class="text-2xl">üîó</span>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Claude MCP</h3>
                        <p class="text-sm text-gray-600">O Protocolo de Contexto do Modelo de Claude atua como um "adaptador universal", permitindo que a IA se conecte de forma segura a ferramentas e dados externos, como o seu cofre Obsidian, em tempo real.</p>
                    </div>
                    <div class="card p-6">
                         <div class="flex justify-center items-center mb-4 w-12 h-12 bg-amber-100 rounded-full mx-auto">
                            <span class="text-2xl">‚ú®</span>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Intelig√™ncia Aumentada</h3>
                        <p class="text-sm text-gray-600">A sinergia transforma a PKM de um arquivo passivo para um parceiro de pensamento ativo. A IA automatiza a organiza√ß√£o e descobre conex√µes, liberando o utilizador para o pensamento criativo.</p>
                    </div>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-center mb-4">Arquitetura da Integra√ß√£o</h3>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-4 text-sm">
                        <div class="text-center">
                            <div class="p-4 bg-gray-100 rounded-lg border border-gray-200">
                                <p class="font-bold">üñ•Ô∏è Claude Desktop</p>
                                <p class="text-gray-600">(Cliente MCP)</p>
                            </div>
                        </div>
                        <div class="text-indigo-500 font-bold text-2xl animate-pulse">&rarr;</div>
                        <div class="text-center">
                            <div class="p-4 bg-gray-100 rounded-lg border border-gray-200">
                                <p class="font-bold">‚öôÔ∏è Servidor Obsidian MCP</p>
                                <p class="text-gray-600">(Conector Local)</p>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">Via Python</p>
                        </div>
                        <div class="text-indigo-500 font-bold text-2xl animate-pulse">&harr;</div>
                        <div class="text-center">
                             <div class="p-4 bg-gray-100 rounded-lg border border-gray-200">
                                <p class="font-bold">üìÇ Cofre Obsidian</p>
                                <p class="text-gray-600">(Dados do Utilizador)</p>
                            </div>
                             <p class="text-xs text-gray-500 mt-1">Via Plugin REST API</p>
                        </div>
                    </div>
                    <p class="text-center mt-4 text-gray-600">Esta arquitetura local-first garante que os seus dados permane√ßam privados e sob o seu controlo, enquanto aproveita o poder da IA.</p>
                </div>
            </section>

            <!-- Estudos de Caso Section -->
            <section id="case-studies" class="content-section">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-700">Estudos de Caso por Persona</h2>
                     <p class="mt-2 text-md text-gray-500 max-w-3xl mx-auto">Explore como diferentes perfis de utilizadores‚ÄîEstudantes, Analistas e Hobbistas‚Äîaplicam a integra√ß√£o de Claude e Obsidian para resolver problemas espec√≠ficos. Selecione uma persona para ver os seus fluxos de trabalho, benef√≠cios e exemplos pr√°ticos.</p>
                </div>
                <div id="persona-selector" class="flex flex-wrap justify-center gap-3 mb-8">
                    <button class="persona-btn px-5 py-2.5 rounded-lg font-semibold transition-all" data-persona="estudantes">üéì Estudantes</button>
                    <button class="persona-btn px-5 py-2.5 rounded-lg font-semibold transition-all" data-persona="analistas">üìä Analistas</button>
                    <button class="persona-btn px-5 py-2.5 rounded-lg font-semibold transition-all" data-persona="hobbistas">üé® Hobbistas</button>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8 items-start">
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Principais Fluxos de Trabalho</h3>
                        <div id="persona-workflows"></div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-2">An√°lise de Benef√≠cios por Fluxo</h3>
                        <p class="text-sm text-gray-500 mb-4">Visualiza√ß√£o do impacto estimado de cada fluxo de trabalho na efici√™ncia e inova√ß√£o, com base nos dados qualitativos do relat√≥rio.</p>
                        <div class="chart-container">
                            <canvas id="persona-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Benef√≠cios e Desafios Section -->
            <section id="benefits-challenges" class="content-section">
                 <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-700">Benef√≠cios e Desafios da Integra√ß√£o</h2>
                    <p class="mt-2 text-md text-gray-500 max-w-3xl mx-auto">A sinergia entre Claude e Obsidian oferece vantagens transformadoras, mas tamb√©m apresenta obst√°culos. Esta se√ß√£o resume os principais ganhos de produtividade e os desafios t√©cnicos e de privacidade a serem considerados.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-green-600 mb-4">Benef√≠cios Transversais</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="text-green-500 mr-3 mt-1">‚úî</span><span><strong class="font-semibold">Produtividade Acelerada:</strong> Redu√ß√£o dr√°stica do tempo em tarefas como sumariza√ß√£o e reda√ß√£o, automatizando o trabalho repetitivo.</span></li>
                            <li class="flex items-start"><span class="text-green-500 mr-3 mt-1">‚úî</span><span><strong class="font-semibold">Contexto Aprofundado:</strong> A IA descobre conex√µes ocultas e padr√µes tem√°ticos entre notas, gerando novas ideias e "momentos de revela√ß√£o".</span></li>
                            <li class="flex items-start"><span class="text-green-500 mr-3 mt-1">‚úî</span><span><strong class="font-semibold">Automa√ß√£o de Tarefas:</strong> Tarefas rotineiras de PKM, como organiza√ß√£o de ficheiros, etiquetagem e cria√ß√£o de notas di√°rias, s√£o automatizadas.</span></li>
                             <li class="flex items-start"><span class="text-green-500 mr-3 mt-1">‚úî</span><span><strong class="font-semibold">Intelig√™ncia Aumentada:</strong> A IA atua como um parceiro de pensamento, assumindo a sobrecarga cognitiva e liberando o utilizador para o trabalho criativo e anal√≠tico.</span></li>
                        </ul>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-red-600 mb-4">Desafios Comuns</h3>
                         <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="text-red-500 mr-3 mt-1">‚ö†Ô∏è</span><span><strong class="font-semibold">Complexidade T√©cnica:</strong> A configura√ß√£o inicial pode ser exigente, requerendo conhecimentos de Python e linha de comando.</span></li>
                            <li class="flex items-start"><span class="text-red-500 mr-3 mt-1">‚ö†Ô∏è</span><span><strong class="font-semibold">Privacidade de Dados:</strong> Embora local-first, a configura√ß√£o incorreta ou o uso de APIs externas pode expor dados sens√≠veis.</span></li>
                            <li class="flex items-start"><span class="text-red-500 mr-3 mt-1">‚ö†Ô∏è</span><span><strong class="font-semibold">Limita√ß√µes da IA:</strong> Risco de "alucina√ß√µes" (informa√ß√µes incorretas), dificuldade com nuances e perda de contexto em longas conversas.</span></li>
                            <li class="flex items-start"><span class="text-red-500 mr-3 mt-1">‚ö†Ô∏è</span><span><strong class="font-semibold">Manuten√ß√£o do Sistema:</strong> Sistemas de PKM complexos exigem revis√£o e organiza√ß√£o cont√≠nuas para permanecerem eficazes.</span></li>
                        </ul>
                    </div>
                </div>
                 <div class="card p-6 mt-8">
                    <h3 class="text-xl font-semibold text-center mb-4">Distribui√ß√£o dos Desafios</h3>
                    <div class="chart-container" style="height: 300px; max-height: 300px;">
                        <canvas id="challenges-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Futuro e Pr√°ticas Section -->
            <section id="future" class="content-section">
                 <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-700">Futuro e Melhores Pr√°ticas</h2>
                    <p class="mt-2 text-md text-gray-500 max-w-3xl mx-auto">Para maximizar o potencial desta integra√ß√£o e navegar pelos seus desafios, √© essencial adotar boas pr√°ticas e estar ciente das tend√™ncias futuras que moldar√£o a PKM assistida por IA.</p>
                </div>
                 <div class="grid md:grid-cols-2 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-indigo-600 mb-4">Melhores Pr√°ticas Recomendadas</h3>
                        <ul class="space-y-4">
                            <li>
                                <h4 class="font-semibold">Comece Simples</h4>
                                <p class="text-gray-600 text-sm">Estabele√ßa um sistema PKM s√≥lido antes de introduzir a IA. A tecnologia deve aprimorar, n√£o complicar, um fluxo de trabalho j√° funcional.</p>
                            </li>
                            <li>
                                <h4 class="font-semibold">Seja um "Humano no Circuito"</h4>
                                <p class="text-gray-600 text-sm">Use a IA como um "guia, n√£o uma muleta". Verifique os factos, refine os resultados e mantenha o controlo criativo e anal√≠tico.</p>
                            </li>
                             <li>
                                <h4 class="font-semibold">Proteja os Seus Dados</h4>
                                <p class="text-gray-600 text-sm">Comece com um cofre de teste, exponha apenas os diret√≥rios necess√°rios e reveja regularmente as modifica√ß√µes feitas pela IA.</p>
                            </li>
                            <li>
                                <h4 class="font-semibold">D√™ Instru√ß√µes Espec√≠ficas</h4>
                                <p class="text-gray-600 text-sm">Forne√ßa prompts detalhados e exemplos concretos para obter os melhores resultados e facilitar a depura√ß√£o quando algo corre mal.</p>
                            </li>
                        </ul>
                    </div>
                     <div class="card p-6">
                        <h3 class="text-xl font-semibold text-cyan-600 mb-4">Perspectivas Futuras</h3>
                         <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold">"Encanamento de IA" Simplificado</h4>
                                <p class="text-gray-600 text-sm">A comunidade caminha para plugins centrais que padronizam a conex√£o com diferentes IAs, tornando a configura√ß√£o mais f√°cil e acess√≠vel para o utilizador comum.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold">Plugins "Com Baterias Inclu√≠das"</h4>
                                <p class="text-gray-600 text-sm">O futuro trar√° mais integra√ß√µes de IA que funcionam "fora da caixa", com conhecimento t√©cnico m√≠nimo necess√°rio, diminuindo a barreira de entrada.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold">IA com Conhecimento Processual</h4>
                                <p class="text-gray-600 text-sm">Espera-se que as IAs melhorem na compreens√£o e execu√ß√£o de instru√ß√µes passo a passo e regras espec√≠ficas de um dom√≠nio, tornando-as assistentes ainda mais poderosos.</p>
                            </div>
                         </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const mainContent = document.getElementById('main-content');
    const navButtons = document.querySelectorAll('.nav-btn');
    const contentSections = document.querySelectorAll('.content-section');
    const personaSelector = document.getElementById('persona-selector');
    const personaButtons = document.querySelectorAll('.persona-btn');

    const personaData = {
        estudantes: {
            name: "Estudantes",
            workflows: [
                { name: "Revis√£o de Literatura", efficiency: 5, innovation: 4, desc: "Processamento eficiente de artigos e refinamento de t√≥picos de pesquisa." },
                { name: "Organiza√ß√£o de Notas", efficiency: 4, innovation: 5, desc: "Etiquetagem autom√°tica, cria√ß√£o de modelos e liga√ß√£o sem√¢ntica de ideias." },
                { name: "Elabora√ß√£o de Ensaios", efficiency: 5, innovation: 3, desc: "Acelera a reda√ß√£o e melhora a coer√™ncia. Conte√∫do 'assistido por IA, n√£o gerado'." },
                { name: "Aprendizagem Ativa", efficiency: 3, innovation: 5, desc: "Usa o modo de aprendizagem para estimular o pensamento cr√≠tico com perguntas socr√°ticas." },
            ],
            color: 'rgba(239, 68, 68, 0.6)' // red
        },
        analistas: {
            name: "Analistas",
            workflows: [
                { name: "Extra√ß√£o e S√≠ntese", efficiency: 5, innovation: 4, desc: "Extrai informa√ß√µes de grandes volumes de texto de forma estruturada." },
                { name: "Gera√ß√£o de Relat√≥rios", efficiency: 5, innovation: 3, desc: "Automatiza a cria√ß√£o de sec√ß√µes de relat√≥rios, poupando at√© 70-80% do tempo." },
                { name: "Refinamento de Prompts", efficiency: 4, innovation: 5, desc: "Eleva a qualidade dos prompts para garantir resultados de IA precisos e alinhados." },
                { name: "An√°lise de Grafo", efficiency: 4, innovation: 5, desc: "Descobre conex√µes ocultas e padr√µes em milhares de notas interligadas." },
            ],
            color: 'rgba(34, 197, 94, 0.6)' // green
        },
        hobbistas: {
            name: "Hobbistas",
            workflows: [
                { name: "Suporte √† Escrita Criativa", efficiency: 3, innovation: 4, desc: "Ajuda na organiza√ß√£o de ideias e na elabora√ß√£o de conte√∫do a partir de notas existentes." },
                { name: "Desenvolvimento de Plugins", efficiency: 4, innovation: 5, desc: "Prototipagem r√°pida de plugins pessoais com assist√™ncia na depura√ß√£o ('vibe coding')." },
                { name: "Gest√£o de Tarefas/Projetos", efficiency: 4, innovation: 3, desc: "Automatiza a cria√ß√£o de listas de tarefas a partir de notas di√°rias e ideias." },
                { name: "Di√°rio Automatizado", efficiency: 5, innovation: 4, desc: "Cria√ß√£o e preenchimento autom√°tico de notas di√°rias para um registo consistente." },
            ],
            color: 'rgba(59, 130, 246, 0.6)' // blue
        }
    };

    let personaChart = null;
    let challengesChart = null;
    
    function switchView(viewId) {
        contentSections.forEach(section => {
            section.style.display = 'none';
        });

        const activeSection = document.getElementById(viewId);
        if (activeSection) {
            activeSection.style.display = 'block';
        }

        navButtons.forEach(button => {
            if (button.dataset.view === viewId) {
                button.classList.remove('nav-inactive');
                button.classList.add('nav-active');
            } else {
                button.classList.remove('nav-active');
                button.classList.add('nav-inactive');
            }
        });

        if (viewId === 'benefits-challenges' && !challengesChart) {
             createChallengesChart();
        }
    }
    
    function createChallengesChart() {
        const ctx = document.getElementById('challenges-chart').getContext('2d');
        challengesChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Complexidade T√©cnica', 'Privacidade de Dados', 'Limita√ß√µes da IA', 'Manuten√ß√£o'],
                datasets: [{
                    label: 'Distribui√ß√£o dos Desafios',
                    data: [40, 25, 20, 15],
                    backgroundColor: [
                        'rgba(239, 68, 68, 0.7)',
                        'rgba(245, 158, 11, 0.7)',
                        'rgba(59, 130, 246, 0.7)',
                        'rgba(107, 114, 128, 0.7)'
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.raw}%`;
                            }
                        }
                    }
                }
            }
        });
    }

    function switchPersona(personaId) {
        personaButtons.forEach(button => {
            if (button.dataset.persona === personaId) {
                button.classList.remove('persona-btn-inactive');
                button.classList.add('persona-btn-active');
            } else {
                button.classList.remove('persona-btn-active');
                button.classList.add('persona-btn-inactive');
            }
        });
        updatePersonaContent(personaId);
    }

    function updatePersonaContent(personaId) {
        const data = personaData[personaId];
        const workflowsContainer = document.getElementById('persona-workflows');
        
        workflowsContainer.innerHTML = ''; 
        const accordion = document.createElement('div');
        accordion.className = 'space-y-3';
        
        data.workflows.forEach((wf, index) => {
            const item = document.createElement('div');
            item.className = 'border border-gray-200 rounded-lg overflow-hidden';
            
            const button = document.createElement('button');
            button.className = 'w-full text-left p-4 font-semibold bg-gray-50 hover:bg-gray-100 focus:outline-none flex justify-between items-center';
            button.innerHTML = `<span>${wf.name}</span> <span class="transform transition-transform duration-300 text-indigo-500">&#9662;</span>`;
            
            const content = document.createElement('div');
            content.className = 'p-4 text-sm text-gray-600 bg-white hidden';
            content.textContent = wf.desc;
            
            button.addEventListener('click', () => {
                const isHidden = content.classList.contains('hidden');
                document.querySelectorAll('#persona-workflows .p-4.text-sm').forEach(p => p.classList.add('hidden'));
                document.querySelectorAll('#persona-workflows button span.transform').forEach(s => s.style.transform = 'rotate(0deg)');
                
                if(isHidden) {
                    content.classList.remove('hidden');
                    button.querySelector('span.transform').style.transform = 'rotate(180deg)';
                }
            });
            
            item.appendChild(button);
            item.appendChild(content);
            accordion.appendChild(item);
        });
        
        workflowsContainer.appendChild(accordion);

        updatePersonaChart(data);
    }

    function updatePersonaChart(data) {
        const ctx = document.getElementById('persona-chart').getContext('2d');
        if (personaChart) {
            personaChart.destroy();
        }
        personaChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: data.workflows.map(wf => wf.name),
                datasets: [
                    {
                        label: 'Efici√™ncia Percebida',
                        data: data.workflows.map(wf => wf.efficiency),
                        backgroundColor: data.color.replace('0.6', '0.7'),
                        borderColor: data.color.replace('0.6', '1'),
                        borderWidth: 1
                    },
                    {
                        label: 'Potencial de Inova√ß√£o',
                        data: data.workflows.map(wf => wf.innovation),
                        backgroundColor: data.color.replace('0.6', '0.4'),
                        borderColor: data.color.replace('0.6', '0.7'),
                        borderWidth: 1
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 5,
                        title: { display: true, text: 'Impacto (1-5)' }
                    },
                    y: {
                        ticks: {
                            autoSkip: false,
                             callback: function(value, index, values) {
                                const label = this.getLabelForValue(value);
                                return label.length > 25 ? label.substring(0, 25) + '...' : label;
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        enabled: true
                    }
                }
            }
        });
    }

    navButtons.forEach(button => {
        button.addEventListener('click', () => switchView(button.dataset.view));
    });

    personaButtons.forEach(button => {
        button.addEventListener('click', () => switchPersona(button.dataset.persona));
    });

    switchView('overview');
    switchPersona('estudantes');
});
</script>

</body>
</html>
